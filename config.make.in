# -*- makefile -*-

datarootdir = @datarootdir@
CAMLC=@CAMLC@
CAMLOPT=@CAMLOPT@
CAMLRUN=@OCAMLRUN@
CAMLDEP=@OCAMLDEP@
OCAMLDOC=@OCAMLDOC@
CAMLMKTOP=@CAMLMKTOP@
CAMLMKLIB=@CAMLMKLIB@
CAMLP4O=@CAMLP4O@
OCAMLFIND=@OCAMLFIND@
FINDLIBDIR=@FINDLIBDIR@
OCAMLLDCONF=@OCAMLLDCONF@
CAMLBEST=@OCAMLBEST@
CAMLWIN32=@OCAMLWIN32@
CAMLDEP=@OCAMLDEP@
CAMLLEX=@OCAMLLEX@
CAMLYACC=@OCAMLYACC@
EXE=@EXE@

USE_GL=			# disable in gtk3
USE_RSVG=		# disable in gtk3
HAVE_SVGZ=		# disable in gtk3
USE_GNOMECANVAS= 	# disable in gtk3
USE_GNOMEUI= 		# disable in gtk3
USE_PANEL= 		# disable in gtk3
USE_GTKSPELL=@USE_GTKSPELL@
USE_GTKSOURCEVIEW3=@USE_GTKSOURCEVIEW3@
USE_GTKQUARTZ=@USE_GTKQUARTZ@
USE_CC=@USE_CC@
DEBUG=@DEBUG@
CC=@CC@
RANLIB=@RANLIB@
XA=.a
XB=
XE=
XO=.o
XS=@XS@
TOOLCHAIN=unix
LIBDIR=@LIBDIR@
THREADS_LIB=@THREADS_LIB@
HAS_DLL_SUPPORT=@HAS_DLL_SUPPORT@
HAS_NATIVE_DYNLINK=@HAS_NATIVE_DYNLINK@

# if using ocaml >= 3.08, add a -D OCAML_308 (for camlp4)
ODOC_DEF=@ODOC_DEF@

# if using ocaml >= 3.11, add a -D HAS_PRINTEXC_BACKTRACE (for camlp4)
HAS_PRINTEXC_BACKTRACE=@HAS_PRINTEXC_BACKTRACE@

# where to install the binaries
prefix=@prefix@
exec_prefix=@exec_prefix@
BINDIR=$(DESTDIR)@bindir@

# where to install the man page
MANDIR=$(DESTDIR)@mandir@

LABLGTKDIR=@LIBDIR@/lablgtk3
INSTALLDIR=$(DESTDIR)@LIBDIR@/lablgtk3
DLLDIR=$(DESTDIR)@LIBDIR@/stublibs
LABLGLDIR=@LABLGLDIR@
FLINSTALLDIR=$(DESTDIR)$(FINDLIBDIR)/lablgtk3

FILT = -Wl,--export-dynamic
clean_libs = $(subst -pthread,-ldopt -pthread -ccopt -pthread,$(subst --rpath,-rpath,$(filter-out $(FILT),$(1))))

GTKCFLAGS=@OCAML_CC_EXTRA_FLAGS@ @GTKALL_CFLAGS@
GTK_LIBS = @GTK_LIBS@
GTKLIBS:=$(call clean_libs,$(GTK_LIBS))
GTKGL_LIBS = @GTKGL_LIBS@
GTKGLLIBS:=$(call clean_libs,$(GTKGL_LIBS))
RSVG_LIBS = @RSVG_LIBS@
RSVGLIBS:=$(call clean_libs,$(RSVG_LIBS))
GNOMECANVAS_LIBS = @GNOMECANVAS_LIBS@
GNOMECANVASLIBS:=$(call clean_libs,$(GNOMECANVAS_LIBS))
GNOMEUI_LIBS = @GNOMEUI_LIBS@
GNOMEUILIBS:=$(call clean_libs,$(GNOMEUI_LIBS))
PANEL_LIBS = @PANEL_LIBS@
PANELLIBS:=$(call clean_libs,$(PANEL_LIBS))
GTKSPELL_LIBS = @GTKSPELL_LIBS@
GTKSPELLLIBS:=$(call clean_libs,$(GTKSPELL_LIBS))
GTKSOURCEVIEW3CFLAGS= @GTKSOURCEVIEW3_CFLAGS@
GTKSOURCEVIEW3_LIBS = @GTKSOURCEVIEW3_LIBS@
GTKSOURCEVIEW3LIBS:=$(call clean_libs,$(GTKSOURCEVIEW3_LIBS))
